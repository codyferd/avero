const{createApp:createApp,ref:ref,onMounted:onMounted}=Vue;createApp({setup(){const e=ref(""),t=ref(""),a=ref(""),l=ref([]),o=ref(null),n=()=>{const t=document.getElementById("graphCanvas"),l=t.getContext("2d"),o=t.width=t.offsetWidth,n=t.height=t.offsetHeight;l.clearRect(0,0,o,n),l.strokeStyle="#0f172a",l.lineWidth=1,l.beginPath();for(let e=0;e<o;e+=25)l.moveTo(e,0),l.lineTo(e,n);for(let e=0;e<n;e+=25)l.moveTo(0,e),l.lineTo(o,e);l.stroke(),l.strokeStyle="#1e293b",l.lineWidth=2,l.beginPath(),l.moveTo(o/2,0),l.lineTo(o/2,n),l.moveTo(0,n/2),l.lineTo(o,n/2),l.stroke(),l.strokeStyle="#4f46e5",l.lineWidth=3,l.beginPath();try{const t=math.compile(e.value);a.value=e.value;let r=!0;for(let e=0;e<o;e++){const a=(e-o/2)/25,u=n/2-25*t.evaluate({x:a});isNaN(u)||Math.abs(u)>2*n?r=!0:r?(l.moveTo(e,u),r=!1):l.lineTo(e,u)}l.stroke()}catch(e){a.value="Invalid Plottable"}};return onMounted((()=>{o.value.focus(),n()})),{currentInput:e,displayFormula:t,lastFunction:a,history:l,siMatrix:{thermodynamics:["kelvin","celsius","fahrenheit"],length:["meter","km","cm","mm","inch","foot","mile"],mass:["kg","gram","mg","ton","lb","oz"],force:["newton","lbf"],pressure:["pascal","bar","psi","atm"],energy:["joule","kcal","Wh"]},siConstants:{c:"2.997e8",G:"6.674e-11",h:"6.626e-34",k:"1.380e-23",e:"1.602e-19"},append:t=>{e.value+=t,o.value.focus()},clear:()=>{e.value="",t.value=""},deleteLast:()=>e.value=e.value.slice(0,-1),calculate:()=>{if(e.value)try{const a=math.evaluate(e.value),o=math.format(a,{precision:12});t.value=e.value,l.value.unshift({exp:e.value,result:o.toString()}),e.value=o.toString()}catch(t){e.value="ERR: SYSTEM_FAIL",setTimeout((()=>e.value=""),1200)}},drawGraph:n,terminal:o}}}).mount("#app");
